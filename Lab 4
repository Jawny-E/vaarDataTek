// Oppgave 1

//Inkludera naudsynte bibliotek
#include <Zumo32U4.h>
#include <Wire.h>

//Naudsynte variabler
Zumo32U4Buzzer buzzer;
Zumo32U4ButtonA buttonA;
Zumo32U4LCD display;

//Funksjonen for blinking og buzzer
void blinkg(){
    buzzer.playFrequency(440, 500, 15); //Skrur på buzzeren
    for(int i=0;i<3;i++){
    ledYellow(1);
    delay(500);
    ledYellow(0);
    delay(500);}
}

void setup() {
  display.clear();
  display.print(F("Gruppe 1...")); //Viser ein melding på displayet
  buttonA.waitForButton(); //Knappen skal brukast til å vente på trykk
}

void loop() {
  if (buttonA.getSingleDebouncedPress()) //Dersom knappen blir trykt 
  {
    blinkg(); //Kjør blinking-funksjonen
  }
  else
  {
    ledYellow(0); //Viss ikkje er LED-en avskrudd
  }
}

// Oppgave 2 

#include <Wire.h> //henter bibliotek for bilen
#include <Zumo32U4.h> //henter bibliotek for bilen

Zumo32U4Motors motors; //setter variable for motorene
Zumo32U4ButtonA buttonA; //setter variabler  for buttonA

void setup() {
  
 buttonA.waitForButton(); //venter for at buttonA blir presset 
 delay(1000); //venter 
}

void venstre8ball(){
  //Sirkel til venstre
  
  for (int speed = 50; speed <= 300; speed = speed + 20)
  //begynner med start speed på 50 og øker med 20 til speed har nådd 300.
  //bilen akselerer 
  {
    motors.setLeftSpeed(speed); //setter hastigheten ved hjelp av for løkken; venstre motor
    delay(200);
    
  }
  for (int speed = 300; speed >= 0; speed = speed - 40)
   //begynner med start speed på 300 og senker med 20 til speed har nådd 0.
   // //bilen deakselerer til 0 
  {
  
    motors.setLeftSpeed(speed); //setter hastigheten ved hjelp av for løkken; venstre motor
    delay(200);
  }
  //har nå fullført en hel runde på ca 360 grader 
}

void hoyre8ball(){
  //Sirkel til høyre 
  for (int speed = 50; speed <= 300; speed = speed + 20)
   //begynner med start speed på 50 og øker med 20 til speed har nådd 300.
  //bilen akselerer 
  {
    motors.setRightSpeed(speed); //setter hastigheten ved hjelp av for løkken; høyre motor
    delay(200);
  }
  for (int speed = 300; speed >= 0; speed = speed - 40)
     //begynner med start speed på 300 og senker med 20 til speed har nådd 0.
  //bilen deakselerer til 0 
  {
    motors.setRightSpeed(speed); //setter hastigheten ved hjelp av for løkken; høyre motor
    delay(200);
  }
   //har nå fullført en hel runde på ca 360 grader 
}

void sirkelsammeretning(){
  //Sirkel til høyre 
  for (int speed = 50; speed <= 300; speed = speed + 20)
   //begynner med start speed på 50 og øker med 20 til speed har nådd 300.
  //bilen akselerer 
  {
    motors.setRightSpeed(speed); //setter hastigheten ved hjelp av for løkken; høyre motor
    delay(200);
  }
  for (int speed = 300; speed >= 0; speed = speed - 40)
     //begynner med start speed på 300 og senker med 20 til speed har nådd 0.
  //bilen deakselerer til 0 
  {
    motors.setRightSpeed(speed); //setter hastigheten ved hjelp av for løkken; høyre motor
    delay(200);
    
   //har nå fullført en hel runde på ca 360 grader 
  }



void sirkelmotsattretning(){
  //Sirkel til venstre
  
  for (int speed = 50; speed <= 300; speed = speed + 20)
  //begynner med start speed på 50 og øker med 20 til speed har nådd 300.
  //bilen akselerer 
  {
    motors.setLeftSpeed(speed); //setter hastigheten ved hjelp av for løkken; venstre motor
    delay(200);
    
  }
  for (int speed = 300; speed >= 0; speed = speed - 40)
   //begynner med start speed på 300 og senker med 20 til speed har nådd 0.
   // //bilen deakselerer til 0 
  {
  
    motors.setLeftSpeed(speed); //setter hastigheten ved hjelp av for løkken; venstre motor
    delay(200);
  }
  //har nå fullført en hel runde på ca 360 grader 
}

void loop() {
  // put your main code here, to run repeatedly:
 venstre8ball(); //kjører venstre sirkel
 hoyre8ball(); // kjører høyre sirkel 
 sirkelsammeretning(); //kjører høyre sirkel
 sirkelmotsattretning(); // kjører høyre sirkel 
}

// Oppgave 3

#include <Wire.h>
#include <Zumo32U4.h>

Zumo32U4Motors motors;
Zumo32U4ButtonA buttonA;
Zumo32U4LineSensors linesensor;
Zumo32U4LCD display;

#define NUM_SENSORS 5
uint16_t static lineSensorValues[NUM_SENSORS];
int vent = 5000;


void setup() {
  linesensor.initFiveSensors();
  unsigned long tidno = millis();
  unsigned long tidstartt = millis();
  while(tidno - tidstartt <= vent){
    linesensor.calibrate();
    motors.setLeftSpeed(80);
    motors.setRightSpeed(80);
    tidno = millis();
  }
}

void loop() {
  int position = linesensor.readLine(lineSensorValues);
   display.clear();
   display.print((position));
}

// Oppgave 4
